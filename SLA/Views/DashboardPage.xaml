<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="SLA.Views.DashboardPage"
    x:DataType="vm:DashboardViewModel"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:SLA.ViewModels"
    BackgroundColor="#1a1c1e"
    Title="Panel de Control">


    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="20">
            <Border BackgroundColor="#2c2f33" Padding="20"
                    Stroke="#454b52" StrokeThickness="2" StrokeShape="RoundRectangle 10">
                <VerticalStackLayout Spacing="10">
                    <HorizontalStackLayout Spacing="15" VerticalOptions="Center">
                        <Border BackgroundColor="#a8c7fa" StrokeShape="RoundRectangle 25"
                                HeightRequest="50" WidthRequest="50">
                            <Label Text="ID" HorizontalOptions="Center" VerticalOptions="Center"
                                   TextColor="#1a1c1e" FontAttributes="Bold"/>
                        </Border>

                        <VerticalStackLayout VerticalOptions="Center">
                            <Label 
                                Text="{Binding Usuario, StringFormat='Usuario: {0}'}"
                                TextColor="White"
                                FontSize="18"
                                FontAttributes="Bold" 
                                CharacterSpacing="1"/>

                            <Label 
                                Text="{Binding Rol, StringFormat='Rango: {0}'}"
                                FontSize="12" 
                                FontAttributes="Bold"
                                TextColor="#a8c7fa" />
                        </VerticalStackLayout>
                    </HorizontalStackLayout>

                    <Button Text="Configurar mi firma digital"
                            Command="{Binding IrAConfigurarFirmaCommand}"
                            IsVisible="{Binding IsOperador}"
                            FontSize="11"
                            TextColor="#a8c7fa"
                            BackgroundColor="Transparent"
                            HorizontalOptions="Start"
                            Margin="65,-10,0,0" />
                </VerticalStackLayout>
            </Border>


            <!-- OPERADOR -->
            <Button
                Text="Nuevo registro"
                TextColor="#a8c7fa" BorderColor="#a8c7fa" BorderWidth="1"
                FontSize="16"
                FontAttributes="Bold"
                BackgroundColor="#2c2f33"
                CornerRadius="8"
                HeightRequest="80"
                IsVisible="{Binding IsOperador}" 
                Command="{Binding NuevoRegistroCommand}"/> <!--prox accion-->

            <!-- NEW OPERADOR'S FUNCTION¿ -->
            <Button
                Text="Acceso a historial"
                IsVisible="{Binding IsOperador}" 
                Command="{Binding VerHistorialCommand}"
                BackgroundColor="#2c2f33"
                TextColor="#a8c7fa" BorderColor="#a8c7fa" BorderWidth="1"
                HeightRequest="80"
                FontSize="16"
                FontAttributes="Bold"
                CornerRadius="8"/>

            <!-- NEW AUDITOR -->
            <Button
                Text="Revisión de registros pendientes"
                IsVisible="{Binding IsAuditor}" 
                Command="{Binding RevisarRegistrosCommand}"
                BackgroundColor="#2c2f33"
                TextColor="#a8c7fa" BorderColor="#a8c7fa" BorderWidth="1"
                HeightRequest="80"
                FontSize="16"
                FontAttributes="Bold"
                CornerRadius="8"/>

            <BoxView HeightRequest="1" Color="#454b52" Margin="0,10"/>

            <Button
                Text="Cerrar sesión"
                Command="{Binding CerrarSesionCommand}"
                BackgroundColor="Transparent"
                TextColor="#c62828" 
                BorderColor="#c62828"
                BorderWidth="1"
                FontAttributes="Bold"
                FontSize="13"
                HeightRequest="50"
                CornerRadius="8"/>

            <!--dea-->
            <Label Text="SLA SECURE ACCESS TERMINAL" TextColor="#454b52"
                   FontSize="9" HorizontalOptions="Center"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>

<!-- bases:
    #1a1c1e -> gris carbon, fondo
    #a8c7fa -> azul acero, color de textos
    #8e9196 -> gris medio, textos secundarios
 
    #2c2f33 -> fondo oscuro
    #c62828 -> rojo oscurito,  cerrar sesion y demás
    
    bordes con StrokeShape="RoundRectangle 5"
    -->